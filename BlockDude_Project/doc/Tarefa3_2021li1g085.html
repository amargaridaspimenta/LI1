<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa3_2021li1g085</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>LingYun Zhu &lt;a100820@alunos.uminho.pt&gt;;<br />: Ana Margarida Sousa Pimenta &lt;a100830@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa3_2021li1g085</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 3 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:showjogo">showjogo</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; String</li><li class="src short"><a href="#v:showpeca">showpeca</a> :: <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> -&gt; String</li><li class="src short"><a href="#v:showjogador">showjogador</a> :: <a href="LI12122.html#t:Direcao" title="LI12122">Direcao</a> -&gt; String</li><li class="src short"><a href="#v:showgame">showgame</a> :: String -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; String</li><li class="src short"><a href="#v:showtudo">showtudo</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; String</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:showjogo" class="def">showjogo</a> <a href="#v:showjogo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>argumento</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p><code>&#7742;apa</code> em <code>String</code></p></td></tr></table></div><div class="doc"><p>Quando &#233; <code><a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a></code>, a fun&#231;&#227;o retira 1 ao eixo x &#224; medida que o <code><a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a></code> chega ao fim de cada lista, mudando de linha at&#233; encontrar a sua posi&#231;&#227;o. Quando esta encontra a sua posi&#231;&#227;o, recorre-se a <code><a href="Tarefa3_2021li1g085.html#v:showjogador" title="Tarefa3_2021li1g085">showjogador</a></code> para mostrar o seu sentido. E, em caso de ser uma <code><a href="LI12122.html#t:Peca" title="LI12122">Peca</a></code>, a fun&#231;&#227;o utiliza <code>showPeca</code>.</p><pre>showjogo :: Jogo -&gt; String
showjogo (Jogo [[]] (Jogador (x,y) _ _)) = &quot;&quot;
showjogo (Jogo ([]:ts) (Jogador (x,y) direcao temCaixa)) = &quot;n&quot; ++ showjogo (Jogo ts (Jogador (x,y-1) direcao temCaixa))
showjogo (Jogo ((peca:xs):ts) (Jogador (x,y) direcao temCaixa)) | x == 0 &amp;&amp; y == 0 = (showjogador direcao) ++ showjogo (Jogo (xs:ts) (Jogador (-1,-1) direcao temCaixa))
                                                                | y == 0 = showpeca peca ++ showjogo (Jogo (xs:ts) (Jogador (x-1,y) direcao temCaixa))
                                                                | otherwise = showpeca peca ++ showjogo (Jogo (xs:ts) (Jogador (x,y) direcao temCaixa))
</pre></div></div><div class="top"><p class="src"><a id="v:showpeca" class="def">showpeca</a> <a href="#v:showpeca" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Peca" title="LI12122">Peca</a></td><td class="doc"><p>4 casos poss&#237;veis</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>respetiva letra</p></td></tr></table></div><div class="doc"><p>Esta fun&#231;&#227;o faz correspond&#234;ncia de cada <code>String</code> com a respetiva <code><a href="LI12122.html#t:Peca" title="LI12122">Peca</a></code>.</p><pre>showpeca :: Peca -&gt; String
showpeca x = case x of
                Bloco -&gt; <a href="X.html">X</a>
                Caixa -&gt; <a href="C.html">C</a>
                Porta -&gt; <a href="P.html">P</a>
                Vazio -&gt; &quot; &quot;
</pre></div></div><div class="top"><p class="src"><a id="v:showjogador" class="def">showjogador</a> <a href="#v:showjogador" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Direcao" title="LI12122">Direcao</a></td><td class="doc"><p>2 casos poss&#237;veis</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>respetivo sentido</p></td></tr></table></div><div class="doc"><p>Esta fun&#231;&#227;o mostra a dire&#231;&#227;o do <code><a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a></code>.</p><pre>showjogador :: Direcao -&gt; String 
showjogador x = case x of 
                     Este  -&gt; &quot;&gt;&quot;
                     Oeste -&gt; &quot;&lt;&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:showgame" class="def">showgame</a> <a href="#v:showgame" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p><code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code> convertido</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></td><td class="doc"><p><code><a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></code> da <code><a href="LI12122.html#v:Caixa" title="LI12122">Caixa</a></code></p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p><code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code> com <code><a href="LI12122.html#v:Caixa" title="LI12122">Caixa</a></code></p></td></tr></table></div><div class="doc"><p>Esta fun&#231;&#227;o pega no <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code> j&#225; em <code>String</code> e devolve-a com a devida <code><a href="LI12122.html#v:Caixa" title="LI12122">Caixa</a></code>.</p><pre>showgame :: String -&gt; Coordenadas -&gt; String
showgame [] _ = []
showgame (z:zs) (x,y) | y == 0 &amp;&amp; x == 0 = <code>C</code> : zs 
                      | y == 0 &amp;&amp; x &gt;  0 = z : showgame zs (x-1,y)
                      | y &gt;= 1 &amp;&amp; z == '\n' = z : showgame zs (x,y-1)
                      | otherwise = z : showgame zs (x,y)
</pre></div></div><div class="top"><p class="src"><a id="v:showtudo" class="def">showtudo</a> <a href="#v:showtudo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>argumento</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p><code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code> em <code>String</code></p></td></tr></table></div><div class="doc"><p>Esta fun&#231;&#227;o tem dois casos: um para quando o <code><a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a></code> tem <code><a href="LI12122.html#v:Caixa" title="LI12122">Caixa</a></code>, e outro quando este n&#227;o tem.</p><pre>showtudo :: Jogo -&gt; String 
showtudo (Jogo [[]] (Jogador _ _ _)) = []
showtudo j@(Jogo mapa (Jogador (x,y) direcao box)) = case box of 
                                                          False -&gt; showjogo j
                                                          True  -&gt; showgame (showjogo j) (x,y-1)
</pre></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Show:Show:1"></span> Show <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></span> <a href="#v:-36-fShowJogo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:Show:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; ShowS</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>